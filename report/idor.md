# IDOR / Broken Access Control in /profile

## 요약

로그인한 사용자와 무관하게 `user` 파라미터만 변경하면 다른 사용자의 민감 정보에 접근 가능.

## 재현 방법

1. user 계정으로 로그인

2. 정상 접근:<http://127.0.0.1:5000/profile?user=user>

3. 공격:<http://127.0.0.1:5000/profile?user=admin>

4. admin 비밀 노트 노출 확인

## 영향

일반 사용자가 관리자 정보 포함 모든 사용자 데이터를 열람 가능.

## 원인

서버가 인증된 사용자 대신 요청 파라미터(`user`)를 신뢰함.

## 대응 방안

- 쿠키 기반 로그인 사용자만 자신의 리소스 접근 허용
- 요청 파라미터 무시
- 서버 측 접근 제어 필수

## 패치 및 검증

- URL 파라미터 제거
- 쿠키 기반 로그인 사용자만 조회
- admin 정보 접근 불가 확인
